<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Nueve — Coastal Stays (Replica, grow-on-scroll)</title>
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&family=Playfair+Display:ital,wght@0,500;0,600;1,500;1,600&display=swap" rel="stylesheet" />

<style>
  :root{
    --bg:#eae6de;
    --ink:#0f0f10;
    --line:rgba(0,0,0,.08);
  }

  *{box-sizing:border-box}
  html{scroll-behavior:smooth}
  body{
    margin:0; background:var(--bg); color:var(--ink);
    font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
  }
  img{max-width:100%; display:block}
  a{color:inherit; text-decoration:none}

  /* Header */
  .header{
    position:sticky; top:0; z-index:40;
    backdrop-filter:saturate(140%) blur(10px);
    background:linear-gradient(to bottom, rgba(234,230,222,.9), rgba(234,230,222,.6));
    border-bottom:1px solid var(--line);
  }
  .nav{max-width:1200px;margin:0 auto;padding:14px 20px;display:flex;align-items:center;gap:20px}
  .brand{display:flex;align-items:center;gap:10px}
  .brand__dot{width:8px;height:8px;border-radius:50%;background:#111}
  .brand__name{font-weight:800}
  .nav__links{margin-left:auto;display:flex;gap:20px}
  .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border:1px solid var(--line);border-radius:999px;background:#fff}
  .btn--dark{background:#111;color:#fff;border-color:#111}

  /* Intro (pinned area) */
  .intro{ height: 240vh; }
  .intro__sticky{ position:sticky; top:0; height:100vh; overflow:hidden; }

  .intro__headline{
    position: relative;
    max-width:min(1200px, 92vw);
    margin: 0 auto;
    padding-top: clamp(36px, 8vh, 80px);
    padding-left: 20px;
    padding-right: 20px;
    z-index: 5;
    text-align: center;
  }
  .intro__headline-top{
    font-size:clamp(36px,6vw,96px);
    font-weight:900;
    line-height:1.02;
    letter-spacing:-.02em;
    margin:0 0 .2em 0;
  }
  .intro__headline-em{
    display:block;
    font-family:"Playfair Display", serif;
    font-style:italic;
    font-weight:500;
    font-size:clamp(60px,13vw,180px);
    line-height:.9;
    letter-spacing:.01em;
    margin:0 0 .6em 0;
    opacity:1;
  }

  .arch-stage{ position:absolute; inset:0; display:grid; place-items:center; pointer-events:none; }
  .arch{
    --w: 60vw; --h: 50vh; --r: 160px; --y: 16vh;
    width:var(--w);
    height:var(--h);
    border-radius: var(--r) var(--r) 0 0 / var(--r) var(--r) 0 0;
    overflow:hidden;
    box-shadow:0 30px 60px rgba(0,0,0,.18);
    background:#000;
    transform: translateY(var(--y));
    will-change: width, height, border-radius, transform;
  }
  .arch__img{
    width:100%; height:100%; object-fit:cover;
    transform-origin:center center;
    transform:scale(.88);
    will-change:transform;
  }

  .mouse{position:absolute;left:50%;bottom:22px;transform:translateX(-50%);width:26px;height:42px;border:2px solid rgba(0,0,0,.45);border-radius:20px}
  .mouse::after{content:"";position:absolute;left:50%;top:8px;transform:translateX(-50%);width:4px;height:8px;background:rgba(0,0,0,.65);border-radius:2px;animation:wheel 1.6s ease-in-out infinite}
  @keyframes wheel{0%{opacity:0;transform:translate(-50%,0)}30%{opacity:1}100%{opacity:0;transform:translate(-50%,10px)}}

  /* Sections */
  .section{ max-width:1200px; margin:0 auto; padding:100px 20px; }
  .section__head{ display:flex; justify-content:space-between; align-items:end; gap:16px; margin-bottom:32px }
  .section__title{ font-family:"Playfair Display", serif; font-size:32px; margin:0; line-height:1.2; }
  .section__sub{ color:#575757; max-width:720px }

  .cards{ display:grid; gap:18px; grid-template-columns: repeat(12, 1fr); }
  .card{ grid-column: span 4; background:#fff; border:1px solid var(--line); border-radius:20px; overflow:hidden; transition:transform .2s ease }
  .card:hover{ transform:translateY(-4px) }
  .card__media{ aspect-ratio:16/11; overflow:hidden }
  .card__media img{ width:100%; height:100%; object-fit:cover; transform:scale(1.03); transition:transform .5s ease }
  .card:hover .card__media img{ transform:scale(1.06) }
  .card__body{ padding:16px 16px 18px }
  .badge{ display:inline-flex; padding:6px 10px; font-size:12px; color:#fff; background:#111; border-radius:999px }
  .card__title{ font-weight:700; margin:10px 0 6px }
  .meta{ color:#666; font-size:14px }
  @media (max-width:1100px){ .card{ grid-column: span 6 } }
  @media (max-width:720px){ .card{ grid-column: span 12 } }

  .gallery{ display:grid; gap:10px; grid-template-columns:repeat(12,1fr); }
  .gallery__item{ grid-column: span 4; border-radius:16px; overflow:hidden; border:1px solid var(--line); background:#fff }
  .gallery__item img{ width:100%; height:100%; object-fit:cover; aspect-ratio:1/1; transform:scale(1.02); transition:transform .5s ease, filter .5s ease }
  .gallery__item:hover img{ transform:scale(1.06); filter:saturate(110%) }
  @media (max-width:1100px){ .gallery__item{ grid-column: span 6 } }
  @media (max-width:720px){ .gallery__item{ grid-column: span 12 } }

  .row{ display:grid; gap:24px; grid-template-columns: 1.2fr .8fr; align-items:center; background:#fff; border:1px solid var(--line); border-radius:20px; padding:22px; }
  @media (max-width:900px){ .row{ grid-template-columns:1fr } }
  .row__media{ border-radius:12px; overflow:hidden; border:1px solid var(--line) }
  .row__media img{ width:100%; height:100%; object-fit:cover; aspect-ratio:16/10 }

  .contact{ display:grid; gap:18px; grid-template-columns:1fr 1fr; align-items:start; background:#fff; border:1px solid var(--line); border-radius:20px; padding:22px; }
  @media (max-width:900px){ .contact{ grid-template-columns:1fr } }
  .label{ color:#6b6b6b; font-size:14px }
  .input, .textarea{ background:#fff; border:1px solid #dcd7cd; color:#111; padding:12px 14px; border-radius:12px; outline:none; }
  .textarea{ min-height:120px; resize:vertical }
  .footer{ margin-top:80px; border-top:1px solid var(--line); color:#6b6b6b; padding:28px 20px; text-align:center; }

  /* reveal */
  .reveal{ opacity:0; transform:translateY(24px); filter:blur(2px); transition:opacity .7s ease, transform .7s ease, filter .7s ease; }
  .reveal.is-visible{ opacity:1; transform:none; filter:none }
  .delay-1{ transition-delay:.08s } .delay-2{ transition-delay:.16s } .delay-3{ transition-delay:.24s }

  /* ===== Fade target: full-bleed background layer ===== */
  .fade-target{
    position: relative;
    z-index: 0;                /* create stacking context for ::before */
    --fade-opacity: 0;         /* JS writes this 0→max→0 */
  }
  /* Full width (100vw) layer centered under the section content */
  .fade-target::before{
    content: "";
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100vw;              /* full viewport width */
    height: 100%;
    background: #000;
    opacity: var(--fade-opacity, 0);
    pointer-events: none;
    z-index: -1;               /* sit behind section content */
  }

  /* readable text when it’s dark */
  .fade-target.is-dark .section__title{ color:#f5f5f5 }
  .fade-target.is-dark .section__sub{ color:#d6d6d6 }
</style>
</head>
<body>

<header class="header">
  <nav class="nav">
    <a href="#" class="brand"><span class="brand__dot"></span><span class="brand__name">Cificap<sup style="font-weight:400;font-size:.65em;opacity:.6"> (9)</sup></span></a>
    <div class="nav__links">
      <a href="#contact" class="btn">Contact</a>
      <a href="#book" class="btn btn--dark">Book</a>
    </div>
  </nav>
</header>

<section class="intro" id="home">
  <div class="intro__sticky">
    <div class="intro__headline">
      <h1 class="intro__headline-top">there is no place like</h1>
      <em class="intro__headline-em">home.</em>
    </div>

    <div class="arch-stage">
      <div class="arch" id="arch">
        <img
          id="archImg"
          class="arch__img"
          src="https://images.unsplash.com/photo-1600585154526-990dced4db0d?q=80&w=2000&auto=format&fit=crop"
          alt="Hero reference"
          decoding="async"
          fetchpriority="high"
        />
      </div>
    </div>

    <div class="mouse" aria-hidden="true"></div>
  </div>
</section>

<!-- Residences: gradual full-bleed fade -->
<section id="residences" class="section fade-target" data-fade-max="0.92">
  <div class="section__head">
    <h2 class="section__title reveal">Residences</h2>
    <p class="section__sub reveal delay-1">Sunny interiors, calm palettes, and everything necessary for a slow summer—kitchens ready to cook, terraces ready to linger.</p>
  </div>

  <div class="cards">
    <article class="card reveal">
      <div class="card__media">
        <img alt="Village House exterior" src="https://images.unsplash.com/photo-1523217582562-09d0def993a6?q=80&w=1600&auto=format&fit=crop" loading="lazy">
      </div>
      <div class="card__body">
        <span class="badge">Sleeps 5</span>
        <h3 class="card__title">Village House</h3>
        <div class="meta">2 bedrooms · 1 bath · <strong>63 m²</strong></div>
      </div>
    </article>

    <article class="card reveal delay-1">
      <div class="card__media">
        <img alt="Olive Grove studio" src="https://images.unsplash.com/photo-1528756514091-dee5ecaa3278?q=80&w=1200&auto=format&fit=crop" loading="lazy">
      </div>
      <div class="card__body">
        <span class="badge">Sleeps 2</span>
        <h3 class="card__title">Olive Grove Studio</h3>
        <div class="meta">1 bedroom · 1 bath · <strong>32 m²</strong></div>
      </div>
    </article>

    <article class="card reveal delay-2">
      <div class="card__media">
        <img alt="Sea View Loft" src="https://images.unsplash.com/photo-1507089947368-19c1da9775ae?q=80&w=1200&auto=format&fit=crop" loading="lazy">
      </div>
      <div class="card__body">
        <span class="badge">Sleeps 4</span>
        <h3 class="card__title">Sea View Loft</h3>
        <div class="meta">1 bedroom · 1 bath · <strong>48 m²</strong></div>
      </div>
    </article>

    <article class="card reveal delay-2">
      <div class="card__media">
        <img alt="Sea View Loft" src="https://images.unsplash.com/photo-1484482340112-e1e2682b4856?q=80&w=1600&auto=format&fit=crop" loading="lazy">
      </div>
      <div class="card__body">
        <span class="badge">Sleeps 4</span>
        <h3 class="card__title">Sea View Loft</h3>
        <div class="meta">1 bedroom · 1 bath · <strong>48 m²</strong></div>
      </div>
    </article>
  </div>
</section>

<section id="experiences" class="section">
  <div class="section__head">
    <h2 class="section__title reveal">Experiences</h2>
    <p class="section__sub reveal delay-1">From morning swims to sunset vineyards—pair slow days with lively evenings.</p>
  </div>

  <div class="row reveal">
    <div>
      <h3 style="margin:0 0 8px 0">Achaia Winery Trails</h3>
      <p class="meta">Historic cellars, hillside views, and tastings of local sweet reds.</p>
    </div>
    <div class="row__media">
      <img alt="Winery" src="https://images.unsplash.com/photo-1458891216473-4f26bb4eb40e?q=80&w=1600&auto=format&fit=crop" loading="lazy">
    </div>
  </div>

  <div style="height:40px"></div>

  <div class="row reveal delay-1">
    <div class="row__media">
      <img alt="Carnival" src="https://images.unsplash.com/photo-1484482340112-e1e2682b4856?q=80&w=1600&auto=format&fit=crop" loading="lazy">
    </div>
    <div>
      <h3 style="margin:0 0 8px 0">City & Carnival</h3>
      <p class="meta">Explore historic streets, cafés, and one of Europe’s liveliest parades.</p>
    </div>
  </div>
</section>

<section id="gallery" class="section">
  <div class="section__head">
    <h2 class="section__title reveal">Gallery</h2>
    <p class="section__sub reveal delay-1">Spaces to slow down—light, linen, limewash, and the sound of cicadas.</p>
  </div>

  <div class="gallery">
    <figure class="gallery__item reveal"><img alt="Interior 1" src="https://images.unsplash.com/photo-1528756514091-dee5ecaa3278?q=80&w=1200&auto=format&fit=crop" loading="lazy"></figure>
    <figure class="gallery__item reveal delay-1"><img alt="Interior 2" src="https://images.unsplash.com/photo-1519710164239-da123dc03ef4?q=80&w=1200&auto=format&fit=crop" loading="lazy"></figure>
    <figure class="gallery__item reveal delay-2"><img alt="Interior 3" src="https://images.unsplash.com/photo-1524758631624-e2822e304c36?q=80&w=1200&auto=format&fit=crop" loading="lazy"></figure>
    <figure class="gallery__item reveal"><img alt="Exterior 1" src="https://images.unsplash.com/photo-1507089947368-19c1da9775ae?q=80&w=1200&auto=format&fit=crop" loading="lazy"></figure>
    <figure class="gallery__item reveal delay-1"><img alt="Pool" src="https://images.unsplash.com/photo-1507089947368-19c1da9775ae?q=80&w=1200&auto=format&fit=crop" loading="lazy"></figure>
    <figure class="gallery__item reveal delay-2"><img alt="Breakfast patio" src="https://images.unsplash.com/photo-1528756514091-dee5ecaa3278?q=80&w=1200&auto=format&fit=crop" loading="lazy"></figure>
  </div>
</section>

<section id="contact" class="section">
  <div class="section__head">
    <h2 class="section__title reveal">Get in touch</h2>
    <p class="section__sub reveal delay-1">Questions, dates, or custom stays—send a note and we’ll help plan your time by the sea.</p>
  </div>

  <div class="contact reveal" style="background-color: black;">
    <form id="book" class="grid">
      <div class="field">
        <label class="label" for="name">Full name</label>
        <input class="input" id="name" name="name" placeholder="Alexandra Marin" required />
      </div>
      <div class="field">
        <label class="label" for="email">Email</label>
        <input class="input" id="email" name="email" type="email" placeholder="you@example.com" required />
      </div>
      <div class="field">
        <label class="label" for="checkin">Check-in</label>
        <input class="input" id="checkin" name="checkin" type="date" required />
      </div>
      <div class="field">
        <label class="label" for="checkout">Check-out</label>
        <input class="input" id="checkout" name="checkout" type="date" required />
      </div>
      <div class="field" style="grid-column:1/-1">
        <label class="label" for="message">Message</label>
        <textarea class="textarea" id="message" name="message" placeholder="Tell us about your trip..."></textarea>
      </div>
      <div><button class="btn btn--dark" type="submit">Request availability</button></div>
    </form>

    <div >
      <h3 style="margin:.2rem 0 .5rem 0">Contact</h3>
      <p class="meta">Patras region, Greece<br>+30 210 000 0000<br>hello@nueve.example</p>
      <div style="height:10px"></div>
      <p class="meta">We reply within 24 hours. Peak dates fill early—feel free to pick flexible options.</p>
    </div>
  </div>

  <footer class="footer">
    © <span id="year"></span> Nueve Stays · Crafted with care
  </footer>
</section>

<script>
/* Reveal-on-scroll (unchanged) */
const io = new IntersectionObserver((entries) => {
  entries.forEach(e => {
    if (e.isIntersecting) {
      e.target.classList.add('is-visible');
      io.unobserve(e.target);
    }
  });
},{threshold:0.15});
document.querySelectorAll('.reveal').forEach(el => io.observe(el));

/* Pinned intro animation (unchanged) */
(function(){
  const arch    = document.getElementById('arch');
  const img     = document.getElementById('archImg');
  const section = document.querySelector('.intro');
  const sticky  = document.querySelector('.intro__sticky');

  function lerp(a,b,t){ return a + (b-a)*t; }
  function clamp(n,min,max){ return Math.max(min, Math.min(max, n)); }

  function update(){
    const rect = section.getBoundingClientRect();
    const total = section.offsetHeight - sticky.offsetHeight;
    const scrolled = clamp(-rect.top, 0, total);
    const p = total ? scrolled / total : 0;

    const split = 0.6;

    if (p <= split) {
      const t = (p / split);
      const ease = t * t;

      const startW = Math.min(520, window.innerWidth * 0.50);
      const endW   = Math.min(980, window.innerWidth * 0.86);
      const w = lerp(startW, endW, ease);

      const startH = Math.max(360, window.innerHeight * 0.44);
      const endH   = Math.min(1000, Math.max(560, window.innerHeight * 0.82));
      const h = lerp(startH, endH, ease);

      const r = Math.min(420, w / 2);
      arch.style.setProperty('--w', w + 'px');
      arch.style.setProperty('--h', h + 'px');
      arch.style.setProperty('--r', r + 'px');

      const y = lerp(16, 6, ease);
      arch.style.setProperty('--y', y + 'vh');

      const scale = lerp(0.85, 1.02, ease);
      img.style.transform = `scale(${scale})`;

    } else {
      const t = (p - split) / (1 - split);
      const ease = 1 - (1 - t) * (1 - t);

      const cs = getComputedStyle(arch);
      const w0 = parseFloat(cs.getPropertyValue('--w'));
      const h0 = parseFloat(cs.getPropertyValue('--h'));
      const r0 = parseFloat(cs.getPropertyValue('--r'));
      const y0 = parseFloat(cs.getPropertyValue('--y'));

      const w = lerp(w0, window.innerWidth, ease);
      const h = lerp(h0, window.innerHeight, ease);
      const r = lerp(r0, 0, ease);
      const y = lerp(y0, 0, ease);

      arch.style.setProperty('--w', w + 'px');
      arch.style.setProperty('--h', h + 'px');
      arch.style.setProperty('--r', r + 'px');
      arch.style.setProperty('--y', y + 'vh');

      const scale = lerp(1.02, 1.15, ease);
      img.style.transform = `scale(${scale})`;
    }
  }

  update();
  window.addEventListener('scroll', update, { passive:true });
  window.addEventListener('resize', update);
})();

/* ===== Smooth white→black→white fade for #residences (full-bleed) ===== */
(function(){
  const target = document.getElementById('residences');
  const maxOpacity = parseFloat(target.getAttribute('data-fade-max') || '0.92');

  function clamp(n,min,max){ return Math.max(min, Math.min(max, n)); }

  function onScroll(){
    const rect = target.getBoundingClientRect();
    const vh = window.innerHeight;

    // progress 0→1 across the section
    const progress = clamp(1 - (rect.bottom / (vh + rect.height)), 0, 1);

    // triangular ease: 0→1→0
    let t = progress < 0.5 ? (progress / 0.5) : (1 - (progress - 0.5) / 0.5);
    t = clamp(t, 0, 1);

    const darkness = t * maxOpacity;

    // drive the ::before layer opacity (full width)
    target.style.setProperty('--fade-opacity', darkness.toFixed(3));

    // flip text tones when dark enough
    if (darkness > 0.45) {
      target.classList.add('is-dark');
    } else {
      target.classList.remove('is-dark');
    }
  }

  onScroll();
  window.addEventListener('scroll', onScroll, { passive:true });
  window.addEventListener('resize', onScroll);
})();

/* Booking demo + footer year (unchanged) */
document.getElementById('book').addEventListener('submit', (e) => {
  e.preventDefault();
  const data = Object.fromEntries(new FormData(e.target).entries());
  alert(`Thanks ${data.name}! We received your request from ${data.checkin} to ${data.checkout}. We'll reply at ${data.email}.`);
  e.target.reset();
});
document.getElementById('year').textContent = new Date().getFullYear();
</script>

</body>
</html>
